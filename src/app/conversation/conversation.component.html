<div class="wholeWindow">
<app-toolbar></app-toolbar>
<div class="spacer"></div>
<div class="conversationsWindow">
    <div class="convWindow" *ngIf="userHasConversations" >
        <div class="usersConversations">
            <div class="usernameField">
                <div class="viewSpacer"></div>
               {{ loggedUser.name }}
            </div>
            <div class="userConversationField" *ngFor="let conv of usersListToMessage" (click)="setNewTextingWithUser(conv)"> 
                <img class="conversationImage" [src] = "conv.photo">
                <p>{{conv.name}}</p> 
            </div>

        </div>
        <div class="activeConversation">
            <div class="conversationCorrespondent" >
                <img class="textingWithImage" [src] = "textingWith.photo">
                <p class="whoWeTextWith"> {{textingWith.name}} </p>
            </div>
            
            <div class="existingConversation">
                <div *ngFor="let message of thisConversationMessages" [ngClass]="message.author == loggedUser ? 'singleMessageFromAuthor' : 'singleMessage' " >
                    {{message.author.name}} : {{message.content}}
                    <br>
                </div>
                <!-- <div class="stylingConvSpacer"></div> -->
            </div>
            <mat-divider></mat-divider>
            <br>

            <div class="newMessage">
                <textarea id="field" placeholder="Type Here" class="message" [(ngModel)]="newMessage"></textarea>
                <mat-icon class="sendIcon" (click)="sendMessage()">send</mat-icon>
            </div>

        </div>
    </div>
</div>
</div>